<!--
This is a polyfill for CSS Behavior, like IEs a HTML Component aka HTC. It
allows you to attach JavaScript behavior to elements via CSS.

Example usage:
In your CSS, you can write:

```css
.my-element {
  --behavior: url('path/to/your-behavior.js');
}
```

And in your JavaScript file ("your-behavior.js"), you can define the behavior:

```js
export default function(element) {
  element.addEventListener('click', () => {
    alert('Element clicked!');
  });
}
```
-->
<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>CSS Behavior (like IE-HTC)</title>
</head>
<style>
  .behavior.red-bg {
    --behavior: url('/css-behavior/behaviors/red-bg.mjs');
  }
</style>
<body>
<script type="module">
  import { init } from './css-behavior/css-behavior.mjs';

  init('.behavior');
</script>
<!-- Testing -->
<script>
  function createTestElement() {
    const div = document.createElement('div');
    const quantity = document.querySelectorAll('button ~ div[data-has-behavior]').length + 1;
    div.classList.add('behavior', 'red-bg');
    div.textContent = `This is a dynamically added test behavior element (${quantity})!`;
    document.body.appendChild(div);
  }
</script>
<div class="behavior red-bg">This is a test behavior (behaviors/red-bg.mjs)!</div>
<div class="behavior red-bg">This is a test behavior (2) (behaviors/red-bg.mjs)!</div>
<button onclick="createTestElement()">Add new element</button>
</body>
</html>
